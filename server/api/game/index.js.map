{"version":3,"sources":["../../../../server/api/game/index.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;;;+BAYS,yBAAyB;;IAAnC,IAAI;;yBACM,iBAAiB;;;;AAXvC,IAAI,OAAO,GAAG,OAAO,CAAC,SAAS,CAAC,CAAC;AACjC,IAAI,cAAc,GAAG,OAAO,CAAC,mBAAmB,CAAC,CAAC;AAClD,IAAI,cAAc,GAAG,OAAO,CAAC,0BAA0B,CAAC,CAAC;AACzD,IAAI,aAAa,GAAG,OAAO,CAAC,yBAAyB,CAAC,CAAC;AACvD,IAAI,gBAAgB,GAAG,OAAO,CAAC,4BAA4B,CAAC,CAAC;AAC7D,IAAI,WAAW,GAAI,OAAO,CAAC,8BAA8B,CAAC,CAAC;;AAE3D,IAAI,MAAM,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;;AAS9B,MAAM,CAAC,GAAG,CAAC,GAAG,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC;AACtC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,CAAC,IAAI,CAAC,CAAC;;AAExC,MAAM,CAAC,IAAI,CAAC,OAAO,EAAC,WAAW,CAAC,cAAc,EAC1B,IAAI,CAAC,eAAe,EAAE,EACtB,cAAc,CAAC,UAAU,EACzB,cAAc,CAAC,oBAAoB,EACnC,aAAa,CAAC,oBAAoB,EAClC,gBAAgB,CAAC,oBAAoB,EACrC,WAAW,CAAC,eAAe,EAC3B,cAAc,CAAC,IAAI,EACnB,WAAW,CAAC,gBAAgB,EAC5B,gBAAgB,CAAC,qBAAqB,EACtC,aAAa,CAAC,qBAAqB,EACnC,cAAc,CAAC,qBAAqB,EACpC,WAAW,CAAC,eAAe,EAC3B,OAAO,CAClB,CAAC;;AAEV,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,cAAc,CAAC,KAAK,CAAC,CAAC;AACvC,MAAM,CAAC,GAAG,CAAC,MAAM,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC;AAC1C,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,cAAc,CAAC,MAAM,CAAC,CAAC;AAC5C,MAAM,UAAO,CAAC,MAAM,EAAE,cAAc,CAAC,OAAO,CAAC,CAAC;;AAE9C,MAAM,CAAC,OAAO,GAAG,MAAM,CAAC;;AAExB,SAAS,OAAO,CAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE;AAC7B,WAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;CACzC","file":"index.js","sourcesContent":["'use strict';\n\nvar express = require('express');\nvar gameController = require('./game.controller');\nvar sessionManager = require('../../components/session');\nvar walletManager = require('../../components/wallet');\nvar gameRoundManager = require('../../components/gameRound');\nvar interceptor =  require('../../components/interceptor');\n        \nvar router = express.Router();\n\n\nimport * as auth from '../../auth/auth.service';\nimport constants from '../../constants';\n\n\n\n\nrouter.get('/', gameController.index);\nrouter.get('/:id', gameController.show);\n\nrouter.post('/play',interceptor.preGameRequest,\n                    auth.getUserIdentity(),\n                    sessionManager.getSession,\n                    sessionManager.managePreGameRequest,\n                    walletManager.managePreGameRequest,\n                    gameRoundManager.managePreGameRequest,                \n                    interceptor.preGameResponse,\n                    gameController.play,\n                    interceptor.postGameResponse,\n                    gameRoundManager.managePostGameRequest,\n                    walletManager.managePostGameRequest,\n                    sessionManager.managePostGameRequest,\n                    interceptor.postGameRequest,\n                    respond\n        );\n\nrouter.post('/', gameController.fetch);\nrouter.put('/:id', gameController.update);\nrouter.patch('/:id', gameController.update);\nrouter.delete('/:id', gameController.destroy);\n\nmodule.exports = router;\n\nfunction respond(req, res, next) {\n    res.status(200).json(req.GameOutcome);\n}"]}